<link rel="import" href="../../bower_components/polymer/polymer.html"/><link rel="import" href="journal-highlightjs-imports.html"/><script src="../../src/journal/pipeline.js"></script><polymer-element name="journal-highlightjs" attributes="text"><template><content id="source"></content><pre><code id="target"></code></pre></template><script>Polymer({
  text: "",

  attached: function() {
    if (!this.text) {
      var source = this.$.source.getDistributedNodes();
      this.text = $(source).text();
      $(source).remove();
    }
  },

  textChanged: function(oldValue, newValue) {
    if (newValue) {
      this.render();
    }
  },

  render: function() {
    var sourceText = this.text;
    var targetElement = this.$.target;
    renderSourceCode(sourceText, targetElement);
  }
});</script></polymer-element>